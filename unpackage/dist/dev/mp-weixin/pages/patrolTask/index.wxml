<view class="content data-v-0ce4fdad"><scroll-view class="bg-white nav data-v-0ce4fdad" scroll-x="{{true}}"><view class="flex text-center data-v-0ce4fdad"><block wx:for="{{items}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="{{['cu-item','flex-sub','data-v-0ce4fdad',index==current?'text-blue cur':'']}}" data-id="{{index}}" data-event-opts="{{[['tap',[['changeTab',[index]]]]]}}" bindtap="__e">{{''+item+''}}</view></block></view></scroll-view><block wx:if="{{dataList.length>0}}"><view class="task-box data-v-0ce4fdad"><block wx:for="{{dataList}}" wx:for-item="item" wx:for-index="__i0__" wx:key="id"><view data-event-opts="{{[['tap',[['checkDetail',['$0'],[[['dataList','id',item.id]]]]]]]}}" class="task-item data-v-0ce4fdad" style="margin-top:16rpx;" bindtap="__e"><view class="topTitle data-v-0ce4fdad">{{taskTypeOptions[item.taskType]+" "+item.id}}</view><view class="detail data-v-0ce4fdad"><view class="address data-v-0ce4fdad">{{"任务名称："+item.taskName}}</view><view class="address data-v-0ce4fdad">{{"巡检内容："+item.content}}</view></view><block wx:if="{{roleId=='5'&&current==0}}"><view style="text-align:right;border-top:1px solid #efefef;padding-top:24rpx;" class="data-v-0ce4fdad"><block wx:if="{{current===0}}"><button class="cu-btn bg-blue data-v-0ce4fdad" disabled="{{item.status!=0}}" data-event-opts="{{[['tap',[['receiveTask',['$0'],[[['dataList','id',item.id]]]]]]]}}" bindtap="__e">{{''+(item.status==0?'接收任务':'已派发')+''}}</button></block></view></block><block wx:if="{{roleId=='8'&&current!=2}}"><view style="text-align:right;border-top:1px solid #efefef;padding-top:24rpx;" class="data-v-0ce4fdad"><block wx:if="{{current===0&&(item.status=='1'||item.status=='2')}}"><button class="cu-btn bg-blue data-v-0ce4fdad" style="margin-right:10rpx;" disabled="{{item.status!=1}}" data-event-opts="{{[['tap',[['accept',['$0'],[[['dataList','id',item.id]]]]]]]}}" catchtap="__e">{{''+(item.status==1?'接收':'已接收')+''}}</button></block><block wx:if="{{current===0&&(item.status=='1'||item.status=='4')}}"><button class="cu-btn text-red line-red data-v-0ce4fdad" disabled="{{item.status!=1}}" data-event-opts="{{[['tap',[['reject',['$0'],[[['dataList','id',item.id]]]]]]]}}" catchtap="__e">{{''+(item.status==1?'驳回':'已驳回')+''}}</button></block><block wx:if="{{current===1}}"><button data-event-opts="{{[['tap',[['reportTrouble',['$0'],[[['dataList','id',item.id]]]]]]]}}" class="cu-btn bg-blue data-v-0ce4fdad" style="margin-right:10rpx;" catchtap="__e">隐患上报</button></block><block wx:if="{{current===1}}"><button data-event-opts="{{[['tap',[['finishTask',['$0'],[[['dataList','id',item.id]]]]]]]}}" class="cu-btn text-blue line-blue data-v-0ce4fdad" catchtap="__e">结束任务</button></block></view></block></view></block></view></block><block wx:else><view class="empty-box data-v-0ce4fdad"><image class="empty-image data-v-0ce4fdad" src="/static/img/empty-image.png"></image><view class="empty-text data-v-0ce4fdad">暂无数据</view></view></block><block wx:if="{{roleId!='8'}}"><view class="flex flex-direction data-v-0ce4fdad" style="padding:30rpx;"><button data-event-opts="{{[['tap',[['fabClick',['$event']]]]]}}" class="cu-btn bg-blue lg data-v-0ce4fdad" bindtap="__e">创建任务</button></view></block><uni-popup vue-id="e0898e0e-1" type="dialog" data-ref="inputDialog" class="data-v-0ce4fdad vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><uni-popup-dialog vue-id="{{('e0898e0e-2')+','+('e0898e0e-1')}}" mode="input" title="驳回原因" value="{{rejectReason}}" placeholder="请填写驳回原因" data-ref="inputClose" data-event-opts="{{[['^confirm',[['dialogInputConfirm']]]]}}" bind:confirm="__e" class="data-v-0ce4fdad vue-ref" bind:__l="__l"></uni-popup-dialog></uni-popup></view>